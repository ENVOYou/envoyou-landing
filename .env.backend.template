# Backend Environment Variables Template
# Copy this to your backend .env file and update with actual values

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================

# Frontend domains yang diizinkan untuk CORS
ALLOWED_ORIGINS=https://envoyou.com,https://app.envoyou.com
CORS_ALLOWED_ORIGINS=https://envoyou.com,https://app.envoyou.com,https://staging.envoyou.com

# Domain utama dan subdomain
MAIN_DOMAIN=https://envoyou.com
APP_DOMAIN=https://app.envoyou.com
API_DOMAIN=https://api.envoyou.com

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# CORS settings
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOW_HEADERS=Content-Type,Authorization,X-Requested-With,Accept,Origin,X-CSRF-Token
CORS_EXPOSE_HEADERS=Content-Length,X-Custom-Header,Authorization
CORS_MAX_AGE=86400

# =============================================================================
# COOKIE & SESSION CONFIGURATION
# =============================================================================

# Cookie domain untuk cross-domain authentication
COOKIE_DOMAIN=.envoyou.com
COOKIE_SECURE=true
COOKIE_SAME_SITE=lax
COOKIE_HTTPONLY=true

# Session configuration
SESSION_SECRET=your-super-secret-session-key-change-in-production
SESSION_COOKIE_DOMAIN=.envoyou.com
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax
SESSION_MAX_AGE=86400000

# JWT configuration (jika menggunakan JWT)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_COOKIE_DOMAIN=.envoyou.com
JWT_COOKIE_SECURE=true
JWT_COOKIE_SAMESITE=lax

# =============================================================================
# AUTHENTICATION REDIRECTS
# =============================================================================

# Email verification
EMAIL_VERIFICATION_SUCCESS_URL=https://app.envoyou.com/auth/login
EMAIL_VERIFICATION_ERROR_URL=https://app.envoyou.com/auth/login

# Password reset
PASSWORD_RESET_SUCCESS_URL=https://app.envoyou.com/auth/login
PASSWORD_RESET_ERROR_URL=https://app.envoyou.com/auth/login

# Social authentication callbacks
GOOGLE_REDIRECT_URI=https://app.envoyou.com/auth/google/callback
GITHUB_REDIRECT_URI=https://app.envoyou.com/auth/github/callback
FACEBOOK_REDIRECT_URI=https://app.envoyou.com/auth/facebook/callback

# =============================================================================
# SECURITY HEADERS
# =============================================================================

# Content Security Policy
CSP_DEFAULT_SRC=self
CSP_SCRIPT_SRC=self 'unsafe-inline' 'unsafe-eval' https://app.envoyou.com https://envoyou.com
CSP_STYLE_SRC=self 'unsafe-inline' https://fonts.googleapis.com
CSP_FONT_SRC=self https://fonts.gstatic.com
CSP_IMG_SRC=self data: https: blob:
CSP_CONNECT_SRC=self https://api.envoyou.com wss://api.envoyou.com

# HSTS (HTTP Strict Transport Security)
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# =============================================================================
# DATABASE & CACHE CONFIGURATION
# =============================================================================

# Database connection (sesuaikan dengan setup Anda)
DATABASE_URL=postgresql://user:password@localhost:5432/envoyou_db
REDIS_URL=redis://localhost:6379

# Session store (gunakan Redis untuk production)
SESSION_STORE=redis
SESSION_REDIS_PREFIX=envoyou:sessions

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# SMTP configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Email templates
EMAIL_FROM=noreply@envoyou.com
EMAIL_FROM_NAME=Envoyou

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# File upload settings
UPLOAD_DESTINATION=./uploads
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf

# Cloud storage (jika menggunakan AWS S3, Cloudinary, dll)
AWS_S3_BUCKET=envoyou-uploads
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development mode settings
NODE_ENV=production
DEBUG=false
ENABLE_SWAGGER=true
ENABLE_API_DOCS=true

# =============================================================================
# BACKUP & MAINTENANCE
# =============================================================================

# Database backup
DB_BACKUP_SCHEDULE=0 2 * * *
DB_BACKUP_RETENTION_DAYS=30

# SSL Certificate auto-renewal (jika menggunakan Let's Encrypt)
SSL_AUTO_RENEW=true
SSL_EMAIL=hello@envoyou.com

# =============================================================================
# PERFORMANCE & CACHING
# =============================================================================

# Redis cache configuration
REDIS_CACHE_TTL=3600
REDIS_CACHE_PREFIX=envoyou:cache

# CDN configuration (jika menggunakan CDN)
CDN_URL=https://cdn.envoyou.com
CDN_ENABLED=true

# Compression
ENABLE_GZIP=true
ENABLE_BROTLI=true

# =============================================================================
# MONITORING & ALERTS
# =============================================================================

# Health check endpoints
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# Metrics collection
METRICS_ENABLED=true
METRICS_PATH=/metrics

# Alert webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles
ENABLE_SOCIAL_AUTH=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_PASSWORD_RESET=true
ENABLE_USER_REGISTRATION=true
ENABLE_API_RATE_LIMITING=true
ENABLE_FILE_UPLOAD=true
ENABLE_NOTIFICATIONS=true

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Stripe (untuk payments)
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
STRIPE_PRICE_ID=price_your-price-id

# SendGrid (untuk email)
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@envoyou.com

# =============================================================================
# COMPLIANCE & LEGAL
# =============================================================================

# GDPR compliance
GDPR_ENABLED=true
COOKIE_CONSENT_REQUIRED=true

# Data retention
USER_DATA_RETENTION_DAYS=2555
LOG_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=365

# =============================================================================
# EMERGENCY SETTINGS
# =============================================================================

# Emergency mode (untuk maintenance)
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=Site is under maintenance. Please check back later.

# Emergency contacts
EMERGENCY_EMAIL=emergency@envoyou.com
EMERGENCY_PHONE=+62-813-1234-5678

# =============================================================================
# END OF CONFIGURATION
# =============================================================================

# Catatan:
# 1. Ganti semua placeholder values dengan nilai aktual
# 2. Pastikan semua secrets (password, API keys) aman dan tidak di-commit ke git
# 3. Gunakan environment variables yang berbeda untuk development, staging, dan production
# 4. Test semua konfigurasi di environment development sebelum deploy ke production
